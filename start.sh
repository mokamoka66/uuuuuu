#!/bin/bash

# ููู ุชุดุบูู ูุธุงู ุงูุงุดุชุฑุงู ุงูุฃูุชููุงุชููู ูููุงุฉ TRADE&BOOM

echo "๐ ุจุฏุก ุชุดุบูู ูุธุงู ุงูุงุดุชุฑุงู ุงูุฃูุชููุงุชููู..."

# ุงูุชุญูู ูู ูุฌูุฏ Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python3 ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Python 3.8 ุฃู ุฃุญุฏุซ."
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
if [ ! -d "venv" ]; then
    echo "๐ฆ ุฅูุดุงุก ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ..."
    python3 -m venv venv
fi

# ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
echo "๐ง ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ..."
source venv/bin/activate

# ุชุซุจูุช ุงููุชุทูุจุงุช
echo "๐ ุชุซุจูุช ุงููุชุทูุจุงุช..."
pip install -r requirements.txt

# ุงูุชุญูู ูู ููู ุงูุฅุนุฏุงุฏุงุช
if [ ! -f "config.py" ]; then
    echo "โ๏ธ  ุชุญุฐูุฑ: ููู config.py ุบูุฑ ููุฌูุฏ. ูุฑุฌู ุฅูุดุงุคู ุฃููุงู."
    exit 1
fi

# ุฅูุดุงุก ูุฌูุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅุฐุง ูู ููู ููุฌูุฏุงู
mkdir -p src/database

# ุจุฏุก ุชุดุบูู ุงููุธุงู
echo "โ ุจุฏุก ุชุดุบูู ุงููุธุงู..."
echo "๐ ููุญุฉ ุงูุฅุฏุงุฑุฉ ูุชุงุญุฉ ุนูู: http://localhost:5000"
echo "๐ค ุงูุจูุช ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุนูู ุชูููุฌุฑุงู"
echo ""
echo "ููุฅููุงู: ุงุถุบุท Ctrl+C"
echo "=========================="

python src/main.py

